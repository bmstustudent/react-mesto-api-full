{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/SubmitButton.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Form.js","components/AuthInput.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/error.svg","images/success.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["Header","email","link","path","onClick","React","useState","isOpen","setIsOpen","isClicked","setIsClicked","className","src","logo","alt","to","CurrentUserContext","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","cardDeleteButtonClassName","cardLikeButtonClassName","name","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","Footer","Popup","onClose","classname","children","handleEsc","event","useEffect","document","addEventListener","removeEventListener","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","token","localStorage","getItem","Authorization","res","ok","json","Promise","reject","status","fetch","getHeader","then","_checkStatus","data","method","body","JSON","stringify","cardId","BASE_URL","checkStatus","SubmitButton","isDisabled","button","disabled","EditProfilePopup","onUpdateUser","isValid","setIsValid","validationMessage","setValidationMessage","inputValue","setInputValue","isFormValid","Object","values","every","Boolean","handleInputChange","target","value","validity","valid","onSubmit","preventDefault","action","noValidate","onChange","id","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","setFormValid","current","ref","AddPlacePopup","ConfirmPopup","onDelete","Form","title","text","AuthInput","Register","onRegister","password","e","Login","onLoggin","ProtectedRoute","loggedIn","InfoTooltip","isSuccess","message","success","error","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isMessagePopupOpen","setMessagePopupOpen","selectedCard","setSelectedCard","isloading","setIsLoading","setCurrentUser","setCards","setLoggedIn","setEmail","isSuccessful","setIsSuccessful","setMessage","history","useHistory","closeAllPopups","all","getUserData","getInitialCards","info","catch","err","console","log","Accept","auth","push","tokenCheck","Provider","exact","removeItem","changeLikeStatus","newCard","newCards","c","setItem","setUserData","result","finally","setUserAvatarData","postNewCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5d7b5288.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport logo from '../images/logo.svg';\n\nfunction Header({ email, link, path, onClick }) {\n\n  const [isOpen, setIsOpen] = React.useState(true);\n  const [isClicked, setIsClicked] = React.useState(false);\n\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n    setIsClicked(!isClicked);\n  };\n  \n  return (\n    <header className=\"header\">\n      <img className={`header__logo ${isOpen ? '' : 'header__logo_visible'}`}\n        src={logo}\n        alt=\"Логотип\"\n      />\n      <button className={`button opacity header__button ${isClicked ? 'header__button_close' : 'header__button_open'}`}\n        onClick={handleClick}\n      >\n      </button>\n      <div className={`header__nav ${isOpen ? '' : 'header__nav_visible'}`}>\n        <p className=\"header__email\">{email}</p>\n        {\n          <Link\n            className=\"header__link opacity\"\n            to={path}\n            onClick={onClick}\n          >\n            {link}\n          </Link>\n        }\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const { card } = props;\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner === currentUser._id;\n    const isLiked = card.likes.some(like => like === currentUser._id);\n    const cardDeleteButtonClassName = (\n        `button__delete button opacity ${isOwn ? 'button_visible' : ''}`\n    );\n    const cardLikeButtonClassName = (\n        `button__like button opacity ${isLiked ? 'button__like_active' : ''}`\n    );\n\n    function handleClick() {\n        props.onCardClick(card);\n    }\n    function handleLikeClick() {\n        props.onCardLike(card)\n    }\n    function handleDeleteClick() {\n        props.onCardDelete(card)\n    }\n\n    return (\n        <li className=\"card\">\n            <img\n                className=\"card__image\"\n                src={card.link} alt={card.name}\n                onClick={handleClick}\n            />\n            <button\n                type=\"button\"\n                aria-label=\"удалить элемент\"\n                className={cardDeleteButtonClassName}\n                onClick={handleDeleteClick}>\n            </button>\n            <div className=\"card__info\">\n                <h3 className=\"card__title\" >{card.name}</h3>\n                <div className=\"card__like\">\n                    <button\n                        type=\"button\"\n                        aria-label=\"выразить положительную реакцию\"\n                        className={cardLikeButtonClassName}\n                        onClick={handleLikeClick}>\n                    </button>\n                    <div className=\"card__like-counter\">{card.likes.length}</div>\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n    const { onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards } = props;\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar\">\n                    <img\n                        className=\"profile__image\"\n                        src={currentUser.avatar}\n                        alt=\"Фотография профиля\"\n                    />\n                    <div className=\"profile__cover\">\n                        <button\n                            onClick={onEditAvatar}\n                            type=\"button\"\n                            className=\"button profile__button-avatar\"\n                            aria-label=\"обновить фотографию пользователя\">\n                        </button>\n                    </div>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button\n                        onClick={onEditProfile}\n                        type=\"button\"\n                        aria-label=\"обновить информацию пользователя\"\n                        className=\"button profile__button-edit opacity\">\n                    </button>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button\n                    onClick={onAddPlace}\n                    type=\"button\"\n                    aria-label=\"добавить новую карточку\"\n                    className=\"button profile__button-add opacity\">\n                </button>\n            </section>\n            <section className=\"card-container\">\n                <ul className=\"card-container__list\">\n                {/* { console.log('List inside ul', cards) } */}\n                    {cards.map(card => <Card {...cards}\n                        onCardClick={onCardClick}\n                        onCardLike={onCardLike}\n                        onCardDelete={onCardDelete}\n                        key={card._id}\n                        card={card} />)}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React, { useEffect } from 'react';\n\nfunction Popup({onClose, isOpen, name, classname, children}) {\n    \n    function handleEsc(event) {\n        if(event.key !== 'Escape') {\n            return\n        }\n        onClose();\n    }\n\n    useEffect(() => {\n        document.addEventListener('keydown', handleEsc);\n        return () => document.removeEventListener('keydown', handleEsc);\n    }, [isOpen]);\n\n    return (\n        <section className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`}>\n            <div className={classname}>\n                <button\n                    type=\"button\"\n                    aria-label=\"закрыть модальное окно\"\n                    className=\"button popup__close opacity\"\n                    onClick={onClose}>\n                </button>\n                {children}\n            </div>\n        </section>\n    )\n}\n\nexport default Popup;\n","import React from 'react';\nimport Popup from './Popup';\n\nfunction ImagePopup({ onClose, isOpen, card }) {\n    return (\n        <Popup\n            name=\"image\"\n            classname=\"popup__container_image\"\n            onClose={onClose}\n            isOpen={isOpen}\n        >\n            <img\n                className=\"popup__view\"\n                src={card ? card.link : \"\"}\n                alt={card ? card.name : \"\"}\n            />\n            <figcaption\n                className=\"popup__title popup__title_image\">\n                {card ? card.name : ''}\n            </figcaption>\n        </Popup>\n    )\n}\n\nexport default ImagePopup;\n","export class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    getHeader() {\n        const token = localStorage.getItem('token');\n        return {\n            ...this._headers,\n            Authorization: `Bearer ${token}`,\n        }\n    }\n\n    _checkStatus(res) {\n        if (res.ok) {\n            return res.json()\n        }\n        return Promise.reject(`Что-то пошло не так: ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this.getHeader(),\n        })\n            .then(this._checkStatus);\n    }\n\n    getUserData() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this.getHeader(),\n\n        })\n            .then(this._checkStatus);\n    }\n\n    postNewCard(data) {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this.getHeader(),\n            method: 'POST',\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkStatus);\n    }\n\n    setUserData(data) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this.getHeader(),\n            method: 'PATCH',\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._checkStatus);\n    }\n\n    setUserAvatarData(data) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            headers: this.getHeader(),\n            method: 'PATCH',\n            body: JSON.stringify({\n                avatar: data.link\n            })\n        })\n            .then(this._checkStatus);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            headers: this.getHeader(),\n            method: 'DELETE'\n        })\n            .then(this._checkStatus);\n    }\n\n    changeLikeStatus(cardId, like) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            method: like ? 'PUT' : 'DELETE',\n            headers: this.getHeader(),\n        })\n            .then(this._checkStatus);\n    }\n}\n\nexport const api = new Api({\n    baseUrl: 'https://api.mestobm.students.nomoreparties.xyz',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n}); \n\n\n","export const BASE_URL = 'https://api.mestobm.students.nomoreparties.xyz';\n\n\nexport const checkStatus = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Что-то пошло не так: ${res.status}`);\n};\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n  .then((res) => checkStatus(res));\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n.then((res) => checkStatus(res));\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => checkStatus(res));\n}\n","import React from 'react';\n\nfunction SubmitButton({classname, isDisabled, onClick, button}) {\n\n    return (\n        <button\n            type=\"submit\"\n            className={`button ${classname}__button-submit ${isDisabled ? 'popup__button-submit_disabled' : ''}`}\n            disabled={isDisabled}\n        >\n            {onClick ? \"Сохранение...\" : button}\n        </button>\n    )\n}\n\nexport default SubmitButton;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Popup from './Popup';\nimport SubmitButton from './SubmitButton.js';\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, onClick }) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [isValid, setIsValid] = React.useState({ name: true, about: true });\n    const [validationMessage, setValidationMessage] = React.useState({ name: '', about: '', });\n    const [inputValue, setInputValue] = React.useState({ name: '', about: '' });\n    const isFormValid = Object.values(isValid).every(Boolean);\n\n    React.useEffect(() => {\n        setInputValue({\n            name: currentUser.name || '',\n            about: currentUser.about || ''\n        });\n    }, [currentUser]);\n\n    function handleInputChange(event) {\n        const { name, value } = event.target;\n        setInputValue({\n            ...inputValue,\n            [name]: value,\n        });\n        setIsValid({\n            ...isValid,\n            [name]: event.target.validity.valid,\n        })\n        setValidationMessage({\n            ...validationMessage,\n            [name]: event.target.validationMessage,\n        })\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        onUpdateUser({\n            name: inputValue.name,\n            about: inputValue.about\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue({\n            name: currentUser.name || '',\n            about: currentUser.about || ''\n        });\n        setValidationMessage({ name: '', about: '', });\n    }, [currentUser.about, currentUser.name, isOpen])\n\n    return (\n        <Popup\n            name=\"edit\"\n            classname=\"popup__container\"\n            isOpen={isOpen}\n            onClose={onClose}\n        >\n            <h3 className=\"popup__title\">Редактировать профиль</h3>\n            <form\n                onSubmit={handleSubmit}\n                className=\"popup__form\"\n                action=\"#\"\n                method=\"POST\"\n                noValidate\n            >\n                <label className=\"popup__field\">\n                    <input\n                        type=\"text\"\n                        value={inputValue.name}\n                        onChange={handleInputChange}\n                        id=\"name-input\"\n                        className=\"popup__item\"\n                        name=\"name\"\n                        placeholder=\"Имя\"\n                        required\n                        minLength=\"2\" maxLength=\"40\"\n                    />\n                    <span\n                        id=\"name-input-error\"\n                        className={!isValid.name ? 'popup__item-error' : \"\"}\n                    >\n                        {validationMessage.name}\n                    </span>\n                </label>\n                <label className=\"popup__field\">\n                    <input\n                        type=\"text\"\n                        value={inputValue.about}\n                        onChange={handleInputChange}\n                        id=\"about-input\"\n                        className=\"popup__item\"\n                        name=\"about\"\n                        placeholder=\"О себе\"\n                        required\n                        minLength=\"2\" maxLength=\"200\"\n                    />\n                    <span\n                        id=\"name-input-error\"\n                        className={!isValid.about ? 'popup__item-error' : \"\"}\n                    >\n                        {validationMessage.about}\n                    </span>\n                </label>\n                <SubmitButton\n                    classname=\"popup\"\n                    isDisabled={!isFormValid}\n                    button=\"Сохранить\"\n                    onClick={onClick}\n                >\n                </SubmitButton>\n            </form>\n        </Popup>\n    )\n}\n\nexport default EditProfilePopup;\n\n","import React from 'react';\nimport Popup from './Popup';\nimport SubmitButton from './SubmitButton.js';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onClick }) {\n    const avatarRef = React.useRef('');\n    const [isValid, setIsValid] = React.useState(false);\n    const [validationMessage, setValidationMessage] = React.useState('');\n    const [isFormValid, setFormValid] = React.useState(false);\n\n    function handleChange(event) {\n        if (!event.target.validity.valid) {\n            setIsValid(true)\n            setValidationMessage(event.target.validationMessage)\n            setFormValid();\n        } else {\n            setIsValid(false)\n            setValidationMessage('')\n            setFormValid(true);\n        }\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        onUpdateAvatar({\n            link: avatarRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        avatarRef.current.value = '';\n        setValidationMessage('');\n        setFormValid();\n    }, [isOpen])\n\n    return (\n        <Popup\n            name=\"avatar\"\n            classname=\"popup__container\"\n            isOpen={isOpen}\n            onClose={onClose}\n        >\n            <h3 className=\"popup__title\">Обновить аватар</h3>\n            <form\n                onSubmit={handleSubmit}\n                className=\"popup__form\"\n                action=\"#\"\n                method=\"POST\"\n                noValidate\n            >\n                <label className=\"popup__field\">\n                    <input\n                        ref={avatarRef}\n                        type=\"url\"\n                        onChange={handleChange}\n                        id=\"link-input\"\n                        className=\"popup__item\"\n                        name=\"link\"\n                        placeholder=\"Ссылка на картинку\"\n                        required />\n                    <span\n                        id=\"link-input-error\"\n                        className={isValid ? 'popup__item-error' : \"\"}\n                    >\n                        {validationMessage}\n                    </span>\n                </label>\n                <SubmitButton\n                    classname=\"popup\"\n                    isDisabled={!isFormValid}\n                    button=\"Сохранить\"\n                    onClick={onClick}\n                >\n                </SubmitButton>\n            </form>\n        </Popup>\n    )\n}\n\nexport default EditAvatarPopup;\n\n","import React from 'react';\nimport Popup from './Popup';\nimport SubmitButton from './SubmitButton.js';\n\nfunction AddPlacePopup({ onClick, onAddPlace, isOpen, onClose}) {\n\n    const [inputValue, setInputValue] = React.useState({ name: '', link: '', });\n    const [isValid, setIsValid] = React.useState({ name: false, link: false });\n    const [validationMessage, setValidationMessage] = React.useState({ name: '', link: '' });\n    const isFormValid = Object.values(isValid).every(Boolean);\n\n    function handleInputChange(event) {\n        const { name, value } = event.target;\n        setInputValue({\n            ...inputValue,\n            [name]: value,\n        });\n        setIsValid({\n            ...isValid,\n            [name]: event.target.validity.valid,\n        })\n        setValidationMessage({\n            ...validationMessage,\n            [name]: event.target.validationMessage,\n        })\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        onAddPlace({\n            name: inputValue.name,\n            link: inputValue.link,\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue({ name: '', link: '' });\n        setValidationMessage({ name: '', link: '' });\n        setIsValid({ name: false, link: false });\n    }, [isOpen])\n\n    return (\n        <Popup\n            name=\"add\"\n            classname=\"popup__container\"\n            isOpen={isOpen}\n            onClose={onClose}\n        >\n            <h3 className=\"popup__title\">Новое место</h3>\n            <form\n                onSubmit={handleSubmit}\n                className=\"popup__form\"\n                action=\"#\"\n                method=\"POST\"\n                noValidate\n            >\n                <label className=\"popup__field\">\n                    <input\n                        type=\"text\"\n                        value={inputValue.name}\n                        className=\"popup__item\"\n                        name=\"name\"\n                        placeholder=\"Название\"\n                        required\n                        minLength=\"1\" maxLength=\"30\"\n                        onChange={handleInputChange}\n                    />\n                    <span\n                        id=\"title-input-error\"\n                        className={!isValid.name ? 'popup__item-error' : \"\"}\n                    >\n                        {validationMessage.name}\n                    </span>\n                </label>\n                <label className=\"popup__field\">\n                    <input\n                        type=\"url\"\n                        value={inputValue.link}\n                        className=\"popup__item\"\n                        name=\"link\"\n                        placeholder=\"Ссылка на картинку\"\n                        required\n                        onChange={handleInputChange}\n                    />\n                    <span\n                        id=\"title-input-error\"\n                        className={!isValid.link ? 'popup__item-error' : \"\"}\n                    >\n                        {validationMessage.link}\n                    </span>\n                </label>\n                <SubmitButton\n                    classname=\"popup\"\n                    isDisabled={!isFormValid}\n                    button=\"Создать\"\n                    onClick={onClick}\n                >\n                </SubmitButton>\n            </form>\n        </Popup>\n    )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport Popup from './Popup';\nimport SubmitButton from './SubmitButton.js';\n\n\nfunction ConfirmPopup({ card, onDelete, isOpen, onClose }) {\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        onDelete(card)\n    }\n\n    return (\n        <Popup\n            name=\"delete\"\n            classname=\"popup__container\"\n            isOpen={isOpen}\n            onClose={onClose}\n        >\n            <h3 className=\"popup__title\">Вы уверены?</h3>\n            <form\n                onSubmit={handleSubmit}\n                className=\"popup__form\"\n                action=\"#\"\n                method=\"POST\"\n                noValidate>\n                <SubmitButton\n                    classname=\"popup\"\n                    button=\"Да\"\n                >\n                </SubmitButton>\n            </form>\n        </Popup>\n    )\n}\n\nexport default ConfirmPopup;","import React from 'react';\n\nfunction Form({ title, children, text, onSubmit, link }) {\n  return (\n    <div className=\"auth\">\n      <h3 className=\"auth__title\">{title}</h3>\n      <form\n        className=\"auth__form\"\n        action=\"#\"\n        onSubmit={onSubmit}\n      >\n        {children}\n      </form>\n      <div className=\"auth__info\">\n        <h4 className=\"auth__text\">{text}</h4>\n        {link}\n      </div>\n    </div>\n  );\n}\n\nexport default Form;\n","import React from 'react';\n\nfunction AuthInput({ type, placeholder, name, value, onChange }) {\n\n  return (\n    <input\n      className=\"auth__item\"\n      type={type}\n      placeholder={placeholder}\n      value={value}\n      name={name}\n      onChange={onChange}\n      required\n    />\n  );\n}\n\nexport default AuthInput;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Form from './Form';\nimport AuthInput from './AuthInput';\nimport SubmitButton from './SubmitButton.js';\nimport Header from './Header';\n\nfunction Register({ onRegister }) {\n\n  const [inputValue, setInputValue] = React.useState({\n    email: '',\n    password: ''\n  });\n  \n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { email, password } = inputValue;\n    onRegister(email, password);\n  }\n  return (\n    <>\n      <Header\n        link=\"Войти\" path='/sign-in'\n      />\n      <Form\n        title=\"Регистрация\"\n        onSubmit={handleSubmit}\n        text={\"Уже зарегистрированы?\"}\n        link={<Link className=\"auth__link opacity\" to=\"/sign-in\">Войти</Link>}\n      >\n        <AuthInput\n          type=\"email\"\n          placeholder=\"Email\"\n          value={inputValue.email}\n          name=\"email\"\n          onChange={handleInputChange}\n        />\n        <AuthInput\n          type=\"password\"\n          placeholder=\"Пароль\"\n          value={inputValue.password}\n          name=\"password\"\n          onChange={handleInputChange}\n        />\n        <SubmitButton\n          button=\"Зарегистрироваться\"\n          classname=\"auth\"\n        >\n        </SubmitButton>\n      </Form>\n    </>\n  );\n}\n\nexport default Register;\n\n","import React from 'react';\nimport Form from './Form';\nimport AuthInput from './AuthInput';\nimport SubmitButton from './SubmitButton.js';\nimport Header from './Header';\n\n\nfunction Login({ onLoggin }) {\n  const [inputValue, setInputValue] = React.useState({ \n    email: '', \n    password: '' \n  });\n\n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    const { email, password } = inputValue;\n    if (!email || !password) {\n      return;\n    }\n    onLoggin(email, password);\n  }\n  return (\n    <>\n      <Header\n        link=\"Регистрация\" path='/signup'\n      />\n      <Form\n        title=\"Вход\"\n        onSubmit={handleSubmit}\n      >\n        <AuthInput\n          type=\"email\"\n          placeholder=\"Email\"\n          value={inputValue.email}\n          name=\"email\"\n          onChange={handleInputChange}\n        />\n        <AuthInput\n          type=\"password\"\n          placeholder=\"Пароль\"\n          value={inputValue.password}\n          name=\"password\"\n          onChange={handleInputChange}\n        />\n        <SubmitButton\n          button=\"Войти\"\n          classname=\"auth\"\n        >\n        </SubmitButton>\n      </Form>\n    </>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\nimport Popup from './Popup';\nimport error from '../images/error.svg';\nimport success from '../images/success.svg';\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess, message }) {\n  return (\n    <Popup\n      name=\"confirm\"\n      classname=\"popup__container\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <img\n        className=\"popup__image\"\n        src={isSuccess ? success : error}\n        alt=\"Изображение\"\n      />\n      <p className=\"popup__message\">{message}</p>\n    </Popup>\n  );\n}\n\nexport default InfoTooltip;","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [isMessagePopupOpen, setMessagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isloading, setIsLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isSuccessful, setIsSuccessful] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const history = useHistory();\n\n  useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([info, card]) => {\n        setCurrentUser(info);\n        setCards(card);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [loggedIn])\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like === currentUser._id);\n    api.changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups()\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  function handleDeleteClick(card) {\n    setSelectedCard(card)\n    setDeletePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setDeletePopupOpen(false);\n    setMessagePopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true)\n    api.setUserData(data)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true)\n    api.setUserAvatarData(data)\n      .then(result => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true)\n    api.postNewCard(card)\n      .then(result => {\n        setCards([result, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleRegisterSubmit(email, password) {\n    auth.register(email, password)\n      .then((data) => {\n        if (data) {\n          history.push('/signin');\n          setMessagePopupOpen(true);\n          setIsSuccessful(true);\n          setMessage('Вы успешно зарегистрировались!');\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setMessagePopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('некорректно заполнено одно из полей');\n        }\n      })\n  }\n\n  function handleLoginSubmit(email, password) {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail(email)\n          setLoggedIn(true);\n          localStorage.setItem('token', data.token)\n          history.push('/')\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setMessagePopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('не передано одно из полей');\n        }\n        if (err === 401) {\n          return console.log('пользователь с email не найден');\n        }\n      })\n  }\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      auth.checkToken(token)\n        .then((data) => {\n          setLoggedIn(true)\n          setEmail(data.email)\n          history.push('/')\n        })\n        .catch((err) => {\n          if (err === 401) {\n            return console.log('Токен не передан или передан не в том формате');\n          }\n        })\n    }\n  }\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false)\n    history.push('/signin')\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"container\">\n          <Switch>\n            <ProtectedRoute exact path='/' loggedIn={loggedIn}>\n              <Header email={email} link=\"Выйти\" onClick={onSignOut} />\n              <Main\n                cards={cards}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n              />\n              <Footer />\n            </ProtectedRoute>\n            <Route path=\"/signup\">\n              <Register\n                onRegister={handleRegisterSubmit}\n              />\n            </Route>\n            <Route path=\"/signin\">\n              <Login\n                onLoggin={handleLoginSubmit}\n              />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n            </Route>\n          </Switch>\n        </div>\n        <InfoTooltip\n          isOpen={isMessagePopupOpen}\n          isSuccess={isSuccessful}\n          message={message}\n          onClose={closeAllPopups}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClick={isloading}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClick={isloading}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClick={isloading}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <ConfirmPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onDelete={handleCardDelete}\n          card={selectedCard}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}