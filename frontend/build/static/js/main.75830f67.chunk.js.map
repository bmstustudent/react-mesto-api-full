{"version":3,"sources":["images/logo.svg","components/Header.js","hooks/useValidation.js","components/FormContent.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/ImagePopup.js","images/success.svg","images/error.svg","components/InfoTooltip.js","utils/token.js","utils/Api.js","components/ProtectedRoute.js","auth.js","components/App.js","index.js"],"names":["Header","onSignOut","loggedIn","email","location","useLocation","history","useHistory","React","useState","open","setOpen","handleLinkName","pathname","className","href","src","logo","alt","onClick","push","useValidation","fields","fieldsEnumeration","value","reduce","acc","field","isValid","setIsValid","inputValue","setInputValue","validationMessage","setValidationMessage","handleInputChange","event","target","name","validity","valid","FormContent","handleSubmit","formName","submitValue","useEffect","action","onSubmit","preventDefault","password","noValidate","type","onChange","placeholder","required","Login","onLogin","isLoading","Register","onRegister","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","about","map","Footer","Popup","isOpen","onClose","children","handleEscapeClose","key","document","addEventListener","removeEventListener","onMouseUp","currentTarget","handleClassName","EditProfilePopup","onUpdateUser","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","current","ref","AddPlacePopup","DeleteConfirmPopup","ImagePopup","InfoTooltip","isRegister","success","error","TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","api","baseUrl","headers","this","fetch","getHeaders","then","res","ok","json","Promise","reject","status","item","method","body","JSON","stringify","newCard","id","ProtectedRoute","routeProps","BASE_URL","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","isTooltipPopupOpen","setTooltipPopupOpen","setLoggedIn","setIsRegister","setEmail","handleContentGetter","data","auth","jwt","catch","err","console","log","tokenCheck","getUserAndCards","a","all","getUserInfo","getCards","userInfo","closeAllPopups","Provider","removeItem","path","response","statusCode","exact","dislikeCard","likeCard","newCards","c","setUserInfo","userData","finally","createCard","setAvatar","deleteCard","deleteCards","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.75830f67.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ff16f24b.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\nimport {useHistory, useLocation} from 'react-router-dom';\n\nconst Header = ({onSignOut, loggedIn, email}) => {\n  const location = useLocation();\n  const history = useHistory();\n  const [open, setOpen] = React.useState(false);\n\n  const handleLinkName = () => {\n    if (location.pathname === '/signin') {\n      return 'Регистрация';\n    } else if (location.pathname === '/') {\n      return 'Выйти';\n    } else {\n      return 'Войти';\n    }\n  }\n\n  const handleButtonClick = () => {\n    if (handleLinkName() === 'Регистрация') {\n      history.push('/signup');\n    } else if (handleLinkName() === 'Войти') {\n      history.push('/signin');\n    } else {\n      onSignOut();\n    }\n  }\n\n  const handleMenuClick = () => {\n    setOpen(!open);\n  }\n\n  const handleClassName = () => {\n    if (loggedIn && open) {\n      return \"header__cover header__cover_type_vertical header__cover_type_active\";\n    } else if (!loggedIn) {\n      return \"header__cover\";\n    } else if (loggedIn) {\n      return \"header__cover header__cover_type_vertical\";\n    }\n  }\n\n  return (\n    <header className={`${loggedIn && open ? `header page__header header_type_active` : `header page__header`}`}>\n      <a className=\"logo header__logo opacity\" href=\"../../public/index.html\">\n        <img className=\"logo__image\" src={logo} alt=\"Логотип сайта Место\"/>\n      </a>\n      <div className={handleClassName()}>\n        <span\n          className={`${loggedIn ? `header__email header__email_type_active` : `header__email`}`}>{email}</span>\n        <button\n          className={`${loggedIn ? `header__button header__button_type_log-out opacity` : `header__button opacity`}`}\n          onClick={handleButtonClick}>{handleLinkName()}</button>\n      </div>\n      <div onClick={handleMenuClick} className={`${loggedIn ? `header__menu-wrapper header__menu-wrapper_type_active` : `header__menu-wrapper`}`}>\n        <div className={open ? `header__menu header__menu_type_active` : `header__menu`}/>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nconst useValidation = (fields) => {\n    const fieldsEnumeration = (value) => {\n        return (\n            fields.reduce((acc, field) => {\n                acc[field] = value;\n                return acc\n            }, {})\n        )\n    };\n\n    const [isValid, setIsValid] = React.useState(fieldsEnumeration(false));\n    const [inputValue, setInputValue] = React.useState(fieldsEnumeration(''));\n    const [validationMessage, setValidationMessage] = React.useState(fieldsEnumeration(''));\n\n    const handleInputChange = (event) => {\n        const {name, value} = event.target;\n        setInputValue({\n            ...inputValue,\n            [name]: value\n        });\n\n        setIsValid({\n            ...isValid,\n            [name]: event.target.validity.valid\n        });\n\n        setValidationMessage({\n            ...validationMessage,\n            [name]: event.target.validationMessage\n        });\n    };\n\n    return {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    }\n}\n\nexport default useValidation;","import React from \"react\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst FormContent = ({handleSubmit, formName, submitValue}) => {\n  const fields = ['email', 'password'];\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    handleSubmit({\n      email: inputValue.email,\n      password: inputValue.password,\n    });\n  }\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  React.useEffect(() => {\n    setInputValue(fieldsEnumeration(''));\n    setIsValid(fieldsEnumeration(false));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <form className=\"form_type_register\"\n          action=\"#\"\n          name={formName}\n          onSubmit={onSubmit}\n          noValidate>\n      <div className=\"popup__cover popup__cover_type_register\">\n        <label className=\"popup__control\">\n          <input\n            className={`${validationMessage.email ? `popup__input popup__input_type_email popup__input_type_error` : `popup__input popup__input_type_email`}`}\n            type=\"email\" name=\"email\" value={inputValue.email}\n            onChange={handleInputChange} placeholder=\"Email\" required/>\n          <span\n            className={`${isValid.email ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.email}</span>\n        </label>\n        <label className=\"popup__control\">\n          <input\n            className={`${validationMessage.password ? `popup__input popup__input_type_password popup__input_type_error` : `popup__input popup__input_type_password`}`}\n            type=\"password\" name=\"password\" value={inputValue.password}\n            onChange={handleInputChange} placeholder=\"Пароль\" required/>\n          <span\n            className={`${isValid.password ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.password}</span>\n        </label>\n      </div>\n      <input\n        className={`${isValid.email && isValid.password ? `button popup__submit popup__submit_type_white` : `button popup__submit popup__submit_type_white popup__submit_type_disabled`}`}\n        type=\"submit\" value={submitValue} name=\"submit\"/>\n    </form>\n  )\n}\n\nexport default FormContent;","import React from \"react\";\nimport FormContent from \"./FormContent\";\n\nconst Login = ({onLogin, isLoading}) => {\n  const submitValue = `${isLoading ? `Выполняется вход...` : `Войти`}`;\n  const formName = \"login\";\n\n  const handleLoginSubmit = ({email, password}) => {\n    if (!email || !password){\n      return;\n    }\n    onLogin(email, password);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"popup__title popup__title_type_white\">Вход</h2>\n        <FormContent handleSubmit={handleLoginSubmit} formName={formName} submitValue={submitValue}/>\n    </section>\n  )\n}\n\nexport default Login;","import React from \"react\";\nimport FormContent from \"./FormContent\";\nimport {Link} from 'react-router-dom';\n\nconst Register = ({onRegister, isLoading}) => {\n  const submitValue = `${isLoading ? `Регистрация...` : `Зарегистрироваться`}`;\n  const formName = \"register\";\n\n  const handleRegisterSubmit = ({email, password}) => {\n    if (!email || !password) {\n      return;\n    }\n    onRegister(email, password);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"popup__title popup__title_type_white\">Регистрация</h2>\n      <FormContent handleSubmit={handleRegisterSubmit} formName={formName} submitValue={submitValue}/>\n      <Link to=\"signin\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\n    </section>\n  );\n}\n\nexport default Register;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner === currentUser._id;\n    const isLiked = card.likes.some(i => i === currentUser._id);\n\n    const handleLikeClick = () => {\n        onCardLike(card);\n    }\n\n    const handleDeleteClick = () => {\n        onCardDelete(card);\n    }\n\n    const handleClick = () => {\n        onCardClick(card);\n    }\n\n    return (\n        <li className=\"pictures__item\">\n            <button\n                className={`${isOwn ? `button pictures__delete pictures__delete_show opacity` : `button pictures__delete opacity`}`}\n                type=\"button\" onClick={handleDeleteClick}/>\n            <img className=\"pictures__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n            <div className=\"pictures__cover\">\n                <p className=\"pictures__title\">{card.name}</p>\n                <div className=\"pictures__like-cover\">\n                    <button\n                        className={`${isLiked ? `button pictures__like pictures__like_active opacity` : `button pictures__like opacity`}`}\n                        type=\"button\" onClick={handleLikeClick}/>\n                    <span className=\"pictures__like-counter\">{card.likes.length}</span>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Main = ({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content page__content\">\n            <section className=\"profile\">\n                <div className=\"profile__cover\">\n                    <div className=\"avatar profile__avatar\" onClick={onEditAvatar}\n                         style={{backgroundImage: `url(${currentUser.avatar})`}}/>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__position\">\n                            <h1 className=\"profile__title\">{currentUser.name}</h1>\n                            <button className=\"button button_edit profile__button opacity\" type=\"button\"\n                                    onClick={onEditProfile}/>\n                        </div>\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"button button_add opacity\" type=\"button\" onClick={onAddPlace}/>\n            </section>\n\n            <section className=\"pictures\">\n                <ul className=\"pictures__list\">\n                    {cards.map((card) => <Card key={card._id} onCardClick={onCardClick} card={card}\n                                               onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nconst Footer = () => {\n    return (\n        <footer className=\"footer page__footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nconst Popup = ({name, isOpen, onClose, children}) => {\n  const handleEscapeClose = (event) => {\n    if (event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", handleEscapeClose, false);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose, false);\n    };\n  }, [isOpen]);\n\n  const handleOverlayClose = (event) => {\n    if (event.target === event.currentTarget && isOpen) {\n      onClose();\n    }\n  };\n\n  const handleClassName = (name) => {\n    if (name === \"picture\") {\n      return \"popup__container popup__container_type_picture\";\n    } else if (name === \"info\") {\n      return \"popup__container popup__container_type_info\";\n    } else {\n      return \"popup__container\";\n    }\n  }\n\n  return (\n    <section className={`${isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`}`}\n             onMouseUp={handleOverlayClose}>\n      <div className={handleClassName(name)}>\n        <button className={`${(name === \"info\") ? `button popup__close popup__close_type_info opacity` : `button popup__close opacity`}`}\n                type=\"button\"\n                onClick={onClose}/>\n        {children}\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditProfilePopup = ({isOpen, onClose, onUpdateUser, isLoading}) => {\n  const fields = ['name', 'about'];\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onUpdateUser({\n      name: inputValue.name,\n      about: inputValue.about,\n    });\n  };\n\n  React.useEffect(() => {\n    setInputValue({\n      name: currentUser.name || '',\n      about: currentUser.about || '',\n    });\n    setIsValid(fieldsEnumeration(true));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [currentUser, isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <Popup name=\"edit\"\n           isOpen={isOpen}\n           onClose={onClose}>\n      <h2 className=\"popup__title\">Редактировать профиль</h2>\n      <form className={'popup__form form_type_edit'}\n            action=\"#\"\n            name=\"edit\"\n            onSubmit={handleSubmit}\n            noValidate>\n        <div className=\"popup__cover\">\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.name ? `popup__input popup__input_type_name popup__input_type_error` : `popup__input popup__input_type_name`}`}\n              type=\"text\" name=\"name\" value={inputValue.name}\n              onChange={handleInputChange} placeholder=\"Имя\" minLength=\"2\" maxLength=\"20\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n            <span\n              className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n          </label>\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.about ? `popup__input popup__input_type_about popup__input_type_error` : `popup__input popup__input_type_about`}`}\n              type=\"text\" name=\"about\" value={inputValue.about}\n              onChange={handleInputChange} placeholder=\"Занятие\" minLength=\"2\" maxLength=\"200\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n            <span\n              className={`${isValid.about ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.about}</span>\n          </label>\n        </div>\n        <input\n          className={`${isValid.name && isValid.about ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n          type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`} name=\"submit\"/>\n      </form>\n    </Popup>\n  )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditAvatarPopup = ({isOpen, onClose, onUpdateAvatar, isLoading}) => {\n    const fields = ['avatar'];\n\n    const {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    } = useValidation(fields);\n\n    const avatarInputRef = React.useRef(null);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarInputRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue(fieldsEnumeration(''));\n        setIsValid(fieldsEnumeration(false));\n        setValidationMessage(fieldsEnumeration(''));\n    }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n    return (\n        <Popup name=\"avatar\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <h2 className=\"popup__title\">Обновить аватар</h2>\n            <form className={'popup__form form_type_avatar'}\n                  action=\"#\"\n                  name=\"avatar\"\n                  onSubmit={handleSubmit}\n                  noValidate>\n                <div className=\"popup__cover popup__cover_type_avatar\">\n                    <label className=\"popup__control\">\n                        <input ref={avatarInputRef}\n                               className={`${validationMessage.avatar ? `popup__input popup__input_type_avatar popup__input_type_error` : `popup__input popup__input_type_avatar`}`}\n                               type=\"url\" name=\"avatar\" value={inputValue.avatar} placeholder=\"Ссылка на картинку\"\n                               onChange={handleInputChange} required/>\n                        <span\n                            className={`${isValid.avatar ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.avatar}</span>\n                    </label>\n                </div>\n                <input\n                    className={`${isValid.avatar ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n                    type=\"submit\"\n                    value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n                    name=\"submit\"/>\n            </form>\n        </Popup>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst AddPlacePopup = ({isOpen, onClose, onAddPlace, isLoading}) => {\n  const fields = ['name', 'link'];\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onAddPlace({\n      name: inputValue.name,\n      link: inputValue.link\n    });\n  }\n\n  React.useEffect(() => {\n    setInputValue(fieldsEnumeration(''));\n    setIsValid(fieldsEnumeration(false));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <Popup\n      name=\"add\"\n      isOpen={isOpen}\n      onClose={onClose}>\n      <h2 className=\"popup__title\">Новое место</h2>\n      <form className={'popup__form form_type_add'}\n            action=\"#\"\n            name=\"add\"\n            onSubmit={handleSubmit}\n            noValidate>\n        <div className=\"popup__cover\">\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.name ? `popup__input popup__input_type_title popup__input_type_error` : `popup__input popup__input_type_title`}`}\n              type=\"text\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\"\n              required value={inputValue.name}\n              onChange={handleInputChange}/>\n            <span\n              className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n          </label>\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.link ? `popup__input popup__input_type_link popup__input_type_error` : `popup__input popup__input_type_link`}`}\n              type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required value={inputValue.link}\n              onChange={handleInputChange}/>\n            <span\n              className={`${isValid.link ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.link}</span>\n          </label>\n        </div>\n        <input\n          className={`${isValid.link && isValid.name ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n          type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n          name=\"submit\"/>\n      </form>\n    </Popup>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport Popup from \"./Popup\";\n\nconst DeleteConfirmPopup = ({card, onClose, isOpen, onCardDelete, isLoading}) => {\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onCardDelete(card);\n    };\n\n    return (\n        <Popup name=\"prevent\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <h2 className=\"popup__title\">Вы уверены?</h2>\n            <form className={'popup__form form_type_prevent'}\n                  action=\"#\"\n                  name=\"prevent\"\n                  onSubmit={handleSubmit}\n                  noValidate>\n                <input className=\"button popup__submit\" type=\"submit\" name=\"submit\"\n                       value={`${isLoading ? `Удаление...` : `Да`}`}/>\n            </form>\n        </Popup>\n    )\n}\n\nexport default DeleteConfirmPopup;","import React from \"react\";\nimport Popup from \"./Popup\";\n\nconst ImagePopup = ({card, isOpen, onClose}) => {\n    return (\n        <Popup name=\"picture\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <figure className=\"popup__figure\">\n                <img className=\"popup__image\" src={card.link} alt={card.name}/>\n                <figcaption className=\"popup__caption\">{card.name}</figcaption>\n            </figure>\n        </Popup>\n    );\n}\n\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\nimport Popup from \"./Popup\";\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nconst InfoTooltip = ({isRegister, isOpen, onClose}) => {\n  return (\n    <Popup name=\"info\"\n           isOpen={isOpen}\n           onClose={onClose}>\n        <img className=\"popup__icon\" src={`${isRegister ? `${success}` : `${error}`}`}\n             alt=\"Значок об успешной регистрации либо ошибке\"/>\n        <h2 className=\"popup__title popup__title_type_center\">{`${isRegister ? `Вы успешно зарегистрировались!` : `Что-то пошло не так!\nПопробуйте ещё раз.`}`}</h2>\n    </Popup>\n  );\n}\n\nexport default InfoTooltip;","const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => localStorage.setItem(TOKEN_KEY, token);\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => localStorage.removeItem(TOKEN_KEY);\n","import {getToken} from \"./token\";\n\nclass Api {\n  constructor({baseUrl, headers}) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  getHeaders() {\n    const token = getToken();\n\n    return {\n      ...this.headers,\n      'Authorization': `Bearer ${token}`\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}users/me`, {\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}cards`, {\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  createCard(newCard) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  likeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  dislikeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this.baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify(avatar),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.mestobm.students.nomoreparties.xyz/',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n\nexport default api;","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst ProtectedRoute = ({loggedIn, ...routeProps}) => {\n  return loggedIn ? <Route {...routeProps} /> : <Redirect to=\"./sign-in\"/>\n}\n\nexport default ProtectedRoute;","import {setToken} from \"./utils/token\";\n\nexport const BASE_URL = 'https://api.mestobm.students.nomoreparties.xyz';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(response => {\n      let data = response.json();\n      if(!response.ok) {\n        return Promise.reject(response.status);\n      }\n      return data;\n    })\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then((response => {\n      let data = response.json();\n      if (!response.ok) {\n        return Promise.reject(response.status);\n      }\n      return data;\n    }))\n    .then((data) => {\n      if (data.token){\n        setToken(data.token);\n        return data;\n      }\n    })\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then((res => {\n      let data = res.json();\n      if (!res.ok) {\n        return Promise.reject(res.status);\n      }\n      return data;\n    }))\n};\n\n","import React from 'react';\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {getToken, removeToken, setToken} from \"../utils/token\";\nimport {Redirect, Route, Switch, useHistory} from 'react-router-dom';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from '../auth.js';\n\nconst App = () => {\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState([]);\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const [isTooltipPopupOpen, setTooltipPopupOpen] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegister, setIsRegister] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const history = useHistory();\n\n  const handleContentGetter = (token) => {\n    return auth.getContent(token)\n      .then((res) => {\n        setEmail(res.email);\n        setLoggedIn(true);\n        history.push('/');\n      })\n  }\n\n  const tokenCheck = () => {\n    const jwt = getToken();\n    if (!jwt) {\n      return;\n    }\n    handleContentGetter(jwt)\n      .catch((err) => {\n        if (err === 401) {\n          console.log('Произошла ошибка, токен не был передан, был передан не в том формате или не является корректным')\n        }\n      });\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const onLogin = (email, password) => {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (!data) {\n          return\n        }\n        if (data.token) {\n          setToken(data.token);\n          handleContentGetter(data.token)\n        }\n      })\n      .catch((err) => {\n        if (err === 400) {\n          console.log('Произошла ошибка, не передано одно из полей');\n        } else if (err === 401) {\n          console.log('Произошла ошибка, пользователь с данным email не найден');\n        }\n      });\n  }\n\n  const onRegister = (email, password) => {\n    auth.register(email, password)\n      .then((res) => {\n        if (res.statusCode !== 400) {\n          setIsRegister(true);\n          setTooltipPopupOpen(true);\n          history.push('/signin');\n        }\n      })\n      .catch((err) => {\n        setIsRegister(false);\n        setTooltipPopupOpen(true);\n        if (err === 400) {\n          console.log('Произошла ошибка, некорректно заполнено одно из полей')\n        }\n      });\n  }\n\n  const onSignOut = () => {\n    removeToken();\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/signin');\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    const promise = isLiked ? api.dislikeCard(card._id) : api.likeCard(card._id);\n    promise\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true)\n    api.deleteCard(card._id)\n      .then(() => {\n        const deleteCards = cards.filter((c) => c._id !== card._id);\n        setCards(deleteCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false)\n      })\n  };\n\n  const getUserAndCards = async () => {\n    try {\n      const [userInfo, cards] = await Promise.all([api.getUserInfo(), api.getCards()]);\n      setCards(cards);\n      setCurrentUser(userInfo);\n    } catch (err) {\n      console.log(`${err}`);\n    }\n  };\n\n  React.useEffect(() => {\n    if (!loggedIn) return;\n    getUserAndCards();\n  }, [loggedIn]);\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n\n  const handleDeletePopupOpenClick = (card) => {\n    setDeletePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const handleCardClick = (card) => {\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(false);\n    setImagePopupOpen(false);\n    setTooltipPopupOpen(false);\n  };\n\n  const handleUpdateUser = (userInfo) => {\n    setIsLoading(true)\n    api.setUserInfo(userInfo)\n      .then((userData) => {\n        setCurrentUser(userData);\n        console.log(userData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  const handleUpdateAvatar = (inputValue) => {\n    setIsLoading(true)\n    api.setAvatar(inputValue)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  const handleAddPlaceSubmit = (inputValue) => {\n    setIsLoading(true)\n    api.createCard(inputValue)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__cover\">\n        <Switch>\n          <CurrentUserContext.Provider value={currentUser}>\n            <Header onSignOut={onSignOut} loggedIn={loggedIn} email={email}/>\n            <Route path=\"/signin\">\n              <Login onLogin={onLogin} isLoading={isLoading}/>\n            </Route>\n            <Route path=\"/signup\">\n              <Register onRegister={onRegister} isLoading={isLoading}/>\n            </Route>\n            <ProtectedRoute exact path=\"/\" loggedIn=\"loggedIn\">\n              <Main\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeletePopupOpenClick}\n                cards={cards}\n              />\n              <Footer/>\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}\n                             onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                               onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n\n              <DeleteConfirmPopup isOpen={isDeletePopupOpen} onClose={closeAllPopups}\n                                  card={selectedCard} onCardDelete={handleCardDelete} isLoading={isLoading}/>\n\n              <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\n\n            </ProtectedRoute>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/signin\"/>}\n            </Route>\n          </CurrentUserContext.Provider>\n        </Switch>\n        <InfoTooltip isRegister={isRegister} isOpen={isTooltipPopupOpen} onClose={closeAllPopups}/>\n      </div>\n    </div>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}